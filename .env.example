# =============================================================================
# GIGA PLATFORM ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to git!
# =============================================================================

# -----------------------------------------------------------------------------
# CORE CONFIGURATION (Required for ALL services)
# -----------------------------------------------------------------------------

# Environment
NODE_ENV=development
LOG_LEVEL=debug

# Supabase - Get from: Supabase Dashboard → Settings → API
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# JWT Authentication - Generate with: openssl rand -base64 32
JWT_SECRET=your-secure-jwt-secret-at-least-32-chars
JWT_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# REDIS (Required for: search, taxi-realtime, notifications, payment-queue)
# -----------------------------------------------------------------------------

# Local development
REDIS_URL=redis://localhost:6379

# Railway production (get from Railway Redis service)
# REDIS_URL=redis://default:password@containers-us-west-xxx.railway.app:6379

# -----------------------------------------------------------------------------
# SERVICE PORTS (defaults shown, override if needed)
# -----------------------------------------------------------------------------

# PORT=3000  # API Gateway
# PORT=3001  # Social Service
# PORT=3003  # Delivery Service
# PORT=3004  # Payment Queue Service
# PORT=3005  # Admin Service
# PORT=3006  # Taxi Realtime Service
# PORT=3007  # Search Service / Notifications Service

# -----------------------------------------------------------------------------
# SERVICE URLs (for inter-service communication)
# -----------------------------------------------------------------------------

API_GATEWAY_URL=http://localhost:3000
SOCIAL_SERVICE_URL=http://localhost:3001
DELIVERY_SERVICE_URL=http://localhost:3003
PAYMENT_SERVICE_URL=http://localhost:3004
ADMIN_SERVICE_URL=http://localhost:3005
TAXI_SERVICE_URL=http://localhost:3006
NOTIFICATIONS_SERVICE_URL=http://localhost:3007
SEARCH_SERVICE_URL=http://localhost:3007

# Service-to-service authentication
SERVICE_JWT_SECRET=your-service-to-service-secret

# -----------------------------------------------------------------------------
# PAYMENT PROVIDERS (Required for: payment-queue-service)
# -----------------------------------------------------------------------------

# Stripe (International)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLIC_KEY=pk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Paystack (Nigeria/Africa)
PAYSTACK_SECRET_KEY=sk_test_...
PAYSTACK_PUBLIC_KEY=pk_test_...
PAYSTACK_WEBHOOK_SECRET=...

# -----------------------------------------------------------------------------
# GOOGLE MAPS (Required for: delivery-service)
# -----------------------------------------------------------------------------

GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# -----------------------------------------------------------------------------
# COMMUNICATION SERVICES (Required for: notifications-service)
# -----------------------------------------------------------------------------

# Email (SMTP)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@yourapp.com

# Twilio (SMS)
TWILIO_ACCOUNT_SID=your-twilio-sid
TWILIO_AUTH_TOKEN=your-twilio-token
TWILIO_PHONE_NUMBER=+1234567890

# Firebase (Push Notifications)
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY=your-private-key
FIREBASE_CLIENT_EMAIL=your-client-email

# -----------------------------------------------------------------------------
# VOICE/VIDEO CALLS (Required for: taxi-realtime-service calls feature)
# -----------------------------------------------------------------------------

AGORA_APP_ID=your-agora-app-id
AGORA_APP_CERTIFICATE=your-agora-certificate

# -----------------------------------------------------------------------------
# SEARCH (Optional - for Algolia integration)
# -----------------------------------------------------------------------------

ALGOLIA_APP_ID=your-algolia-app-id
ALGOLIA_API_KEY=your-algolia-key
ALGOLIA_SEARCH_KEY=your-algolia-search-key

# -----------------------------------------------------------------------------
# FILE STORAGE (Optional - for S3 integration)
# -----------------------------------------------------------------------------

AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------------------------------------------------------
# CORS CONFIGURATION
# -----------------------------------------------------------------------------

CORS_ORIGIN=http://localhost:3000,http://localhost:8080

# -----------------------------------------------------------------------------
# DELIVERY SERVICE SPECIFIC
# -----------------------------------------------------------------------------

DEFAULT_DELIVERY_RADIUS_KM=10
MAX_DELIVERY_RADIUS_KM=50
COURIER_LOCATION_UPDATE_INTERVAL_MS=30000
ROUTE_OPTIMIZATION_ENABLED=false
ENABLE_PUSH_NOTIFICATIONS=false
ENABLE_SMS_NOTIFICATIONS=false
ENABLE_EMAIL_NOTIFICATIONS=false
PAGINATION_DEFAULT_LIMIT=20
PAGINATION_MAX_LIMIT=100
CACHE_TTL=300
CACHE_MAX_KEYS=1000

# -----------------------------------------------------------------------------
# MONITORING (Optional)
# -----------------------------------------------------------------------------

SENTRY_DSN=your-sentry-dsn

# =============================================================================
# SERVICE REQUIREMENTS SUMMARY
# =============================================================================
#
# ALL SERVICES need:
#   - SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, JWT_SECRET, NODE_ENV
#
# REDIS required for:
#   - search-service (caching)
#   - taxi-realtime-service (Socket.IO, real-time tracking)
#   - notifications-service (BullMQ queues)
#   - payment-queue-service (BullMQ queues)
#
# REDIS NOT required for:
#   - social-service
#   - admin-service
#   - delivery-service (uses in-memory cache)
#
# PAYMENT KEYS required for:
#   - payment-queue-service (STRIPE_*, PAYSTACK_*)
#
# GOOGLE_MAPS_API_KEY required for:
#   - delivery-service (route optimization)
#
# SMTP/TWILIO/FIREBASE required for:
#   - notifications-service (email, SMS, push)
#
# =============================================================================
